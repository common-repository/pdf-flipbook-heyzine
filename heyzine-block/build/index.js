(()=>{"use strict";var e,t={558:(e,t,i)=>{const n=window.wp.blocks,l=window.wp.element,o=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.components,r=window.wp.apiFetch;var h=i.n(r);const p=JSON.parse('{"u2":"cl-heyzine-block/heyzine-block"}'),c=(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 49 49"},(0,l.createElement)("path",{fill:"#19A975",d:"M18.6217 15.5008a1.6511 1.6511 0 1 0-1.611-1.651 1.6609 1.6609 0 0 0 1.611 1.651Z"}),(0,l.createElement)("path",{fill:"#19A975",fillRule:"evenodd",d:"M28.0676 13.4412a2.0012 2.0012 0 0 0-1.3809-1.591l-.7604-.2202-.3402-.1a3.8634 3.8634 0 0 1-.5904-.2001 1.4011 1.4011 0 0 1-.5904-.5904 11.807 11.807 0 0 0-3.1419-3.232 6.5641 6.5641 0 0 0-6.8743-.3903 9.2955 9.2955 0 0 0-5.2033 8.1451v23.965a8.206 8.206 0 0 0 0 1.2007 7.8748 7.8748 0 0 0 4.6729 6.6642c.8687.388 1.7833.6638 2.7217.8205.2914.0504.5854.0839.8806.1001h1.7811l-.3302-15.5898a17.4206 17.4206 0 0 0 6.354-13.3183v-2.4615l1.9412-1.2808a2.0014 2.0014 0 0 0 .8605-1.9212ZM15.0095 44.6307a5.1426 5.1426 0 0 1-3.122-4.4728 4.2423 4.2423 0 0 1 .6104-2.8818 3.4114 3.4114 0 0 1 .3702-.4803l.8405-.7005.9206-.5503a9.7466 9.7466 0 0 1 1.581-.5904l.2502 10.1664a7.294 7.294 0 0 1-1.4509-.4903Zm-3.102-10.5966V15.3023a6.554 6.554 0 0 1 1.0006-3.3821 6.6844 6.6844 0 0 1 2.6517-2.3815 3.8423 3.8423 0 0 1 4.1426.2302 9.0063 9.0063 0 0 1 2.3815 2.4815 3.9121 3.9121 0 0 0 1.711 1.531l.5104.2101-1.8212 1.2008v3.8924a15.01 15.01 0 0 1-1.651 6.6542 15.0981 15.0981 0 0 1-4.4628 5.2332l-3.0619 2.2214-1.4009.8406Z",clipRule:"evenodd"}),(0,l.createElement)("path",{fill:"#19A975",fillRule:"evenodd",d:"M26.2664.0117H7.2545A7.2745 7.2745 0 0 0 0 7.2663V26.158a7.265 7.265 0 0 0 4.5076 6.7111 7.2652 7.2652 0 0 0 2.787.5434h1.8911v-2.7017H7.2946a4.563 4.563 0 0 1-4.5729-4.5528V7.2662a4.5526 4.5526 0 0 1 4.5729-4.5428h19.0118a4.5629 4.5629 0 0 1 4.5729 4.5428v18.8919a4.5634 4.5634 0 0 1-2.826 4.2093 4.563 4.563 0 0 1-1.7469.3435h-5.6235a19.0134 19.0134 0 0 1-1.7711 1.7111v1.0006h7.3246a7.2653 7.2653 0 0 0 5.1462-2.1171 7.2634 7.2634 0 0 0 2.1383-5.1374V7.2663A7.2745 7.2745 0 0 0 26.2664.0117Z",clipRule:"evenodd"}));(0,n.registerBlockType)(p.u2,{icon:c,edit:function({attributes:e,setAttributes:t}){const{heyzines:i,heyzineSelected:n,heyzinePages:r,heyzineEmbedPage:p,heyzineTitle:c,heyzineSubTitle:d,heyzineDescription:b,heyzineLink:m,heyzineLinkPage:f,customizeDisabled:y,showTitle:z,showSubTitle:_,showDescription:u,showLink:k,responsiveWidth:g,pagesEnabled:w,flibookWidth:v,flibookHeight:E}=e,[x,S]=(0,l.useState)([]),[H,N]=(0,l.useState)([]),[C,D]=(0,l.useState)(!0),[P,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(async()=>{D(!0);const e=await h()({path:"/heyzine/v1/flipbooks"});D(!1),0===e.length?T(!1):T(!0),t({heyzines:e});const i=e.map((e=>({value:e.id,label:e.title})));i.unshift({value:"",label:(0,o.__)("Select a Heyzine:","pdf-flipbook-heyzine")}),S(i);const l=[{label:(0,o.__)("Page","pdf-flipbook-heyzine")+" 1",value:1}];N(l),n&&(t({customizeDisabled:!1}),B(r),console.log("Embed Page: "+p))})()}),[]);const B=e=>{const t=[];for(let i=1;i<=e;i++)t.push({label:(0,o.__)("Page","pdf-flipbook-heyzine")+" "+i,value:i});N(t)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:(0,o.__)("Embed","pdf-flipbook-heyzine")},(0,l.createElement)(s.SelectControl,{__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Select a Heyzine:","pdf-flipbook-heyzine"),help:(0,o.__)("Select the Heyzine title to be inserted","pdf-flipbook-heyzine"),value:n,options:x,onChange:e=>{const n=i.find((t=>t.id===e));t({heyzineSelected:e}),n?(t({heyzineTitle:n.title,heyzineSubTitle:n.subtitle,heyzineDescription:n.description,heyzinePages:n.pages,heyzineLink:n.link_custom?n.link_custom:n.link_base,heyzineLinkPage:n.link_custom?n.link_custom:n.link_base,customizeDisabled:!1,pagesEnabled:!0}),B(n.pages)):(t({pagesEnabled:!1,customizeDisabled:!1,heyzineLinkPage:""}),B(1))}}),(0,l.createElement)(s.Button,{__experimentalIsFocusable:!0,__next40pxDefaultSize:!0,disabled:y,variant:"primary",onClick:()=>{const e="https://heyzine.com/admin/view?n="+n;window.open(e,"_blank")},className:"cl-heyzine-customize-button"},(0,o.__)("Customize","pdf-flipbook-heyzine")),(0,l.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Responsive width","pdf-flipbook-heyzine"),help:(0,o.__)("Determines whether the width will be responsive and depending of the Heyzine height","pdf-flipbook-heyzine"),checked:g,onChange:e=>{t({responsiveWidth:e})}}),(0,l.createElement)(s.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Flipbook width","pdf-flipbook-heyzine"),help:(0,o.__)("Sets the width of the embedded Heyzine","pdf-flipbook-heyzine"),initialPosition:v,currentInput:v,disabled:g,step:10,max:1200,min:150,onChange:e=>{t({flibookWidth:Number(e)})}}),(0,l.createElement)(s.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Flipbook height","pdf-flipbook-heyzine"),help:(0,o.__)("Sets the height of the embedded Heyzine","pdf-flipbook-heyzine"),initialPosition:E,currentInput:E,step:10,max:900,min:100,onChange:e=>{t({flibookHeight:Number(e)})}}),(0,l.createElement)(s.SelectControl,{__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:p,options:H,onChange:e=>{t({heyzineEmbedPage:Number(e),heyzineLinkPage:m+"#page/"+e})}})),(0,l.createElement)(s.PanelBody,{title:(0,o.__)("Additional options","pdf-flipbook-heyzine"),initialOpen:!1},(0,l.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Show Heyzine title","pdf-flipbook-heyzine"),help:(0,o.__)("Determines whether to display Heyzine title above the embed","pdf-flipbook-heyzine"),checked:z,onChange:e=>{t({showTitle:e})}}),(0,l.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Show Heyzine subtitle","pdf-flipbook-heyzine"),help:(0,o.__)("Determines whether to display Heyzine subtitle above the embed","pdf-flipbook-heyzine"),checked:_,onChange:e=>{t({showSubTitle:e})}}),(0,l.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Show Heyzine description","pdf-flipbook-heyzine"),help:(0,o.__)("Determines whether to display Heyzine description above the embed","pdf-flipbook-heyzine"),checked:u,onChange:e=>{t({showDescription:e})}}),(0,l.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Show Heyzine link to heyzine page","pdf-flipbook-heyzine"),help:(0,o.__)("Determines whether to display Heyzine link (to heyzine page) above the embed","pdf-flipbook-heyzine"),checked:k,onChange:e=>{t({showLink:e})}}))),(0,l.createElement)("div",{...(0,a.useBlockProps)()},C&&(0,o.__)("Loading...","pdf-flipbook-heyzine"),!n&&(0,l.createElement)(s.Notice,{status:"info"},(0,o.__)("Select a Heyzine to embed","pdf-flipbook-heyzine")),!P&&(0,l.createElement)(s.Notice,{status:"info"},(0,o.__)("There are no Heyzines availables","pdf-flipbook-heyzine")),P&&n&&(0,l.createElement)("div",{className:"cl-heyzine-embed"},z&&(0,l.createElement)("p",{className:"cl-heyzine-title"},c),_&&(0,l.createElement)("p",{className:"cl-heyzine-subtitle"},d),u&&(0,l.createElement)("p",{className:"cl-heyzine-description"},b),k&&(0,l.createElement)("p",{className:"cl-heyzine-link"},(0,l.createElement)("a",{href:f,target:"_blank",rel:"noreferrer noopener"},f)),(0,l.createElement)("iframe",{className:"cl-heyzine-iframe fp-iframe",allow:"fullscreen",style:{border:"0px",width:g?"100%":v+"px",height:E+"px"},src:f}))))},save:function({attributes:e}){const{heyzineSelected:t,heyzineTitle:i,heyzineSubTitle:n,heyzineDescription:o,heyzineLinkPage:s,showTitle:r,showSubTitle:h,showDescription:p,showLink:c,responsiveWidth:d,flibookWidth:b,flibookHeight:m}=e;return(0,l.createElement)("div",{...a.useBlockProps.save()},t&&(0,l.createElement)("div",{className:"cl-heyzine-embed"},r&&(0,l.createElement)("p",{className:"cl-heyzine-title"},i),h&&(0,l.createElement)("p",{className:"cl-heyzine-subtitle"},n),p&&(0,l.createElement)("p",{className:"cl-heyzine-description"},o),c&&(0,l.createElement)("p",{className:"cl-heyzine-link"},(0,l.createElement)("a",{href:s,target:"_blank",rel:"noreferrer noopener"},s)),(0,l.createElement)("iframe",{className:"cl-heyzine-iframe fp-iframe",allow:"fullscreen",style:{border:"0px",width:d?"100%":b+"px",height:m+"px"},src:s})))}})}},i={};function n(e){var l=i[e];if(void 0!==l)return l.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,i,l,o)=>{if(!i){var a=1/0;for(p=0;p<e.length;p++){i=e[p][0],l=e[p][1],o=e[p][2];for(var s=!0,r=0;r<i.length;r++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](i[r])))?i.splice(r--,1):(s=!1,o<a&&(a=o));if(s){e.splice(p--,1);var h=l();void 0!==h&&(t=h)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[i,l,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var l,o,a=i[0],s=i[1],r=i[2],h=0;if(a.some((t=>0!==e[t]))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var p=r(n)}for(t&&t(i);h<a.length;h++)o=a[h],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},i=self.webpackChunkheyzine_block=self.webpackChunkheyzine_block||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var l=n.O(void 0,[431],(()=>n(558)));l=n.O(l)})();